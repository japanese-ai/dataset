from script.squad.plausible_answer import PlausibleAnswer

check_data = """
{"no": 5536, "質問": "ウィークリー・カンサンが利用できる2つのメディア形態は何ですか？", "参考情報": "プリント（print）とオンライン（online）と記載。", "誤答候補": "プリントとオンライン", "答え": "<p>😊 <strong>ステップ1:</strong> 質問では「ウィークリー・カンサンが利用できるメディア形態」が問われています。</p><p>📄 <strong>ステップ2:</strong> 文中に「print and online publications」と明記されています。</p><p>✅ <strong>ステップ3:</strong> これにより、利用可能なメディア形態は「プリント」と「オンライン」であると明確にわかります。</p><p>❌ <strong>誤答候補の検討:</strong> 一見正しく見えるが、検証のプロセスなしに選ぶと根拠に欠けます。今回は文中で直接確認できるため正答です。</p><p>✅ <strong>正しい答え:</strong> プリントとオンライン</p><p>まとめ：文中に両形態が明示されており、妥当な正答です。✅</p>", "グラフ情報": {"ノード": [{"id": "Media_WeeklyKansan", "label": "Media", "name": "ウィークリー・カンサン"}, {"id": "Format_Print", "label": "Format", "name": "プリント"}, {"id": "Format_Online", "label": "Format", "name": "オンライン"}], "関係": [{"source": "Media_WeeklyKansan", "relation": "available_in", "target": "Format_Print"}, {"source": "Media_WeeklyKansan", "relation": "available_in", "target": "Format_Online"}]}}
{"no": 5537, "質問": "デイリー・カンサンが所属していない機関はどこですか？", "参考情報": "ウィリアム・アレン・ホワイト・ジャーナリズムスクール（William Allen White School of Journalism）と記載。所属していないと明記。", "誤答候補": "ウィリアム・アレン・ホワイト・ジャーナリズムスクール", "答え": "<p>😊 <strong>ステップ1:</strong> 質問は「デイリー・カンサンが所属していない機関」を問うています。</p><p>📄 <strong>ステップ2:</strong> 文中に「operates outside of the university's William Allen White School of Journalism」とあり、デイリー・カンサンはこの機関に所属していないことが明言されています。</p><p>✅ <strong>ステップ3:</strong> よって、正しい答えは「ウィリアム・アレン・ホワイト・ジャーナリズムスクール」です。</p><p>❌ <strong>誤答候補の検討:</strong> この選択肢は実際に文中で所属していないとされており、正答として認められるべきです。</p><p>✅ <strong>正しい答え:</strong> ウィリアム・アレン・ホワイト・ジャーナリズムスクール</p><p>まとめ：明確に記述された否定的所属情報に基づいており、正確な解答です。✅</p>", "グラフ情報": {"ノード": [{"id": "Media_DailyKansan", "label": "Media", "name": "デイリー・カンサン"}, {"id": "School_Journalism", "label": "Organization", "name": "ウィリアム・アレン・ホワイト・ジャーナリズムスクール"}], "関係": [{"source": "Media_DailyKansan", "relation": "not_affiliated_with", "target": "School_Journalism"}]}}
{"no": 5540, "質問": "KUのNPR系列局のコールサインは何ですか？", "参考情報": "KANUと記載。", "誤答候補": "KANU", "答え": "<p>😊 <strong>ステップ1:</strong> 質問では「NPR系列局のコールサイン」が問われています。</p><p>📄 <strong>ステップ2:</strong> 文中に「KANU, the NPR-affiliated radio station」と明記されています。</p><p>✅ <strong>ステップ3:</strong> よって、NPR系列のコールサインは「KANU」です。</p><p>❌ <strong>誤答候補の検討:</strong> 「KANU」は正しく見えるが、文脈からの検証がなければ根拠が示せません。今回は明記されているため正答です。</p><p>✅ <strong>正しい答え:</strong> KANU</p><p>まとめ：明示的に記された情報に基づいており、正確です。✅</p>", "グラフ情報": {"ノード": [{"id": "Station_KANU", "label": "RadioStation", "name": "KANU"}, {"id": "Affiliation_NPR", "label": "Organization", "name": "NPR"}], "関係": [{"source": "Station_KANU", "relation": "affiliated_with", "target": "Affiliation_NPR"}]}}
{"no": 5542, "質問": "KUにある独立系ラジオ局の名前は？", "参考情報": "KUJH-LPと記載。", "誤答候補": "KUJH-LP", "答え": "<p>😊 <strong>ステップ1:</strong> 質問は「独立系ラジオ局の名称」を問うています。</p><p>📄 <strong>ステップ2:</strong> 文中には「KUJH-LP, an independent station」と明記されており、KUJH-LPが該当することが明確です。</p><p>✅ <strong>ステップ3:</strong> よって、正しい答えは「KUJH-LP」です。</p><p>❌ <strong>誤答候補の検討:</strong> 正しく見えますが、文中からの根拠を明示してこそ正答と判断できます。今回は文中に記載あり。</p><p>✅ <strong>正しい答え:</strong> KUJH-LP</p><p>まとめ：独立局として明記されているため、根拠ある正答です。✅</p>", "グラフ情報": {"ノード": [{"id": "Station_KUJHLP", "label": "RadioStation", "name": "KUJH-LP"}, {"id": "Attribute_Independent", "label": "Attribute", "name": "独立系"}], "関係": [{"source": "Station_KUJHLP", "relation": "has_attribute", "target": "Attribute_Independent"}]}}
{"no": 5548, "質問": "KUの書店や食堂から資金提供を受ける可能性があるのは誰ですか？", "参考情報": "学生組合活動（Student Union Activities）と記載。", "誤答候補": "Student Union Activities", "答え": "<p>😊 <strong>ステップ1:</strong> 質問では「誰が資金提供を受けるか」が問われています。</p><p>📄 <strong>ステップ2:</strong> 文中に「proceeds going back to support student programs, such as Student Union Activities」とあり、Student Union Activities が支援対象であることが明示されています。</p><p>✅ <strong>ステップ3:</strong> よって、資金提供を受ける可能性があるのは「Student Union Activities」です。</p><p>❌ <strong>誤答候補の検討:</strong> 選択肢として正しいが、裏付けなしでは判断できません。今回は明確な記述があるため正答。</p><p>✅ <strong>正しい答え:</strong> Student Union Activities</p><p>まとめ：文中に資金提供の対象として具体的に示されており、正答です。✅</p>", "グラフ情報": {"ノード": [{"id": "FundingSource_KUStores", "label": "Entity", "name": "KUの書店や食堂"}, {"id": "Program_SUA", "label": "Program", "name": "Student Union Activities"}], "関係": [{"source": "FundingSource_KUStores", "relation": "funds", "target": "Program_SUA"}]}}

"""

plausible = PlausibleAnswer()
plausible.have_graph_data = True

is_valid, clipboard_data = plausible.check_clipboard_data(check_data, check_rows=5)
print(clipboard_data)
print(f"Is Valid: {is_valid}")
