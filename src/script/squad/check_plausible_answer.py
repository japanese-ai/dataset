from script.squad.plausible_answer import PlausibleAnswer

check_data = """
{"no":13134,"質問":"1970年に何が起きましたか？","参考情報":"1970年の出来事に関する情報は文中に存在せず、1973年以降の情報のみが記載されている。","誤答候補":"1973年から2015年にかけて、156人の死刑囚が釈放、恩赦、または減刑された。","答え":"<p>📄 本文には<strong>1970年</strong>に関する記述がありません。</p><p>😊 ステップ1：提供された情報を確認すると、記述の範囲は<strong>1973年から2015年</strong>に限定されています。</p><p>⚠️ ステップ2：誤答候補「1973年から2015年にかけての死刑囚釈放などの事例」は、1970年以前には該当せず、設問の年とは無関係です。</p><p>❌ 理由：1970年の情報を問う設問に対し、誤答候補は記載期間外の内容であり、本文中でサポートされていません。</p><p>✅ まとめ：1970年については本文中に記載がないため、該当する出来事は不明です。</p>","グラフ情報":{"ノード":[
  {"id":"Time_1973_2015","label":"Period","name":"1973年から2015年"},
  {"id":"Event_156Released","label":"Event","name":"156人の釈放・恩赦・減刑"}
],"関係":[
  {"source":"Time_1973_2015","relation":"includes_event","target":"Event_156Released"}
]}}
{"no":13135,"質問":"この統計を支持しているのは誰ですか？","参考情報":"死刑反対派はこの統計が誤審による死刑執行の危険性を示していると主張している。","誤答候補":"死刑反対派","答え":"<p>📄 本文によると、<strong>死刑反対派</strong>がこの統計を使って誤審の危険性を主張しています。</p><p>😊 ステップ1：この統計は、156人の釈放などのデータに基づいて、冤罪の可能性を示唆しています。</p><p>⚠️ ステップ2：ただし、「誰が支持しているか」については、死刑反対派以外の意見や視点（例：賛成派）も含まれている可能性が示唆されているため、死刑反対派のみを挙げるのは不完全です。</p><p>❌ 理由：誤答候補は部分的には正しいですが、文中の全体像を反映しておらず限定的な回答になっています。</p><p>✅ まとめ：死刑反対派は統計を支持していますが、他の立場も存在するため、単一の支持者のみを挙げるのは不正確です。</p>","グラフ情報":{"ノード":[
  {"id":"Group_Abolitionists","label":"Group","name":"死刑反対派"},
  {"id":"Stat_156Released","label":"Statistic","name":"156人の釈放統計"}
],"関係":[
  {"source":"Group_Abolitionists","relation":"supports_statistic","target":"Stat_156Released"}
]}}
{"no":13136,"質問":"アメリカで殺人犯の何パーセントが死刑判決を受けていませんか？","参考情報":"全米で2.5%の殺人犯が死刑判決を受けているため、97.5%は受けていない。","誤答候補":"2.5%","答え":"<p>📄 本文によると、<strong>2.5%</strong>の殺人犯が死刑判決を受けており、残りの<strong>97.5%</strong>は受けていないと解釈されます。</p><p>😊 ステップ1：設問は「死刑判決を受けていない」割合を尋ねています。</p><p>⚠️ ステップ2：誤答候補「2.5%」は実際には「受けた」側のデータであり、設問とは逆の意味です。</p><p>❌ 理由：設問の趣旨に反して、誤答候補は真逆の情報を示しています。</p><p>✅ まとめ：97.5%の殺人犯は死刑判決を受けていないというのが正しい答えです。</p>","グラフ情報":{"ノード":[
  {"id":"Crime_Murder","label":"Crime","name":"殺人"},
  {"id":"Stat_2.5PercentDeath","label":"Statistic","name":"2.5%が死刑判決を受ける"}
],"関係":[
  {"source":"Crime_Murder","relation":"statistic","target":"Stat_2.5PercentDeath"}
]}}
{"no":13137,"質問":"ネバダ州では何パーセントの殺人犯が死刑判決を受けていませんか？","参考情報":"ネバダ州では6%の殺人犯が死刑判決を受けている。","誤答候補":"6%","答え":"<p>📄 本文には<strong>ネバダ州</strong>における殺人犯のうち、<strong>6%</strong>が死刑判決を受けたとあります。</p><p>😊 ステップ1：設問では「死刑判決を受けていない割合」が問われており、これは100%から6%を差し引く必要があります。</p><p>⚠️ ステップ2：誤答候補の「6%」は死刑判決を受けた方の割合であり、設問と逆の内容です。</p><p>❌ 理由：「6%」は設問が求めている情報と逆で、誤解を生みます。</p><p>✅ まとめ：94%の殺人犯がネバダ州で死刑判決を受けていないというのが正しい答えです。</p>","グラフ情報":{"ノード":[
  {"id":"State_Nevada","label":"State","name":"ネバダ州"},
  {"id":"Crime_Murder","label":"Crime","name":"殺人"},
  {"id":"Stat_6PercentDeath_NV","label":"Statistic","name":"6%が死刑判決"}
],"関係":[
  {"source":"State_Nevada","relation":"has_statistic","target":"Stat_6PercentDeath_NV"},
  {"source":"Crime_Murder","relation":"related_statistic","target":"Stat_6PercentDeath_NV"}
]}}
{"no":13138,"質問":"どの州が死刑判決を受けた人の80%を処刑していますか？","参考情報":"テキサス州では死刑判決を受けた人の40%を処刑しており、これが全米平均の約4倍。","誤答候補":"テキサス州","答え":"<p>📄 本文には<strong>テキサス州</strong>が死刑判決を受けた人の<strong>40%</strong>を処刑していると記されています。</p><p>😊 ステップ1：設問は「80%を処刑している州」を尋ねていますが、そのような割合は本文中にはありません。</p><p>⚠️ ステップ2：「40%」という記述があるため、80%という数値は誤りです。</p><p>❌ 理由：誤答候補「テキサス州」は本文にある割合と異なり、過大な数値に基づいた誤情報です。</p><p>✅ まとめ：テキサス州は40%を処刑していますが、80%ではありません。</p>","グラフ情報":{"ノード":[
  {"id":"State_Texas","label":"State","name":"テキサス州"},
  {"id":"Stat_40PercentExecuted","label":"Statistic","name":"40%が処刑"}
],"関係":[
  {"source":"State_Texas","relation":"has_statistic","target":"Stat_40PercentExecuted"}
]}}
"""

plausible = PlausibleAnswer()
plausible.have_graph_data = True

is_valid, clipboard_data = plausible.check_clipboard_data(check_data, check_rows=5)
print(clipboard_data)
print(f"Is Valid: {is_valid}")
