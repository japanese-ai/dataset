from script.squad.answer import Answer

check_data = """
{"質問":"喘息の証拠を支持するのは何ですか？","参考情報":"スパイロメトリーは診断および管理に役立つと推奨されています。これは喘息の診断に最も適したテストです。この技術で測定されたFEV1（1秒間に吐き出すことができる空気の量）が12%以上改善した場合、診断を支持する結果となります。しかし、軽度の喘息で発作が現在起きていない場合には正常値を示すこともあります。カフェインが喘息の患者において気管支拡張薬として働くため、肺機能検査前にカフェインを摂取すると結果に影響を与える可能性があります。","答え":"<p>喘息の証拠を支持するのは、<strong>この技術で測定されたFEV1が12%以上改善すること</strong>です。</p>📊 <ul><li>FEV1が12%以上改善すれば、喘息の診断を支持します。</li>💨 <li>気管支拡張薬（サルブタモール）を使用後の改善が重要です。</li>🔬 <li>発作が軽度の場合には正常値を示すこともあります。</li></ul><p>12%以上の改善が喘息の証拠を支持します。</p>✅","グラフ情報":{"ノード":[{"id":"Asthma_Evidence","label":"Evidence","name":"喘息の証拠"},{"id":"FEV1_Improvement","label":"Improvement","name":"FEV1の改善"}],"関係":[{"source":"Asthma_Evidence","relation":"supported_by","target":"FEV1_Improvement"}]}}

{"質問":"喘息テストの結果に影響を与える物質は何ですか？","参考情報":"スパイロメトリーは診断および管理に役立つと推奨されています。これは喘息の診断に最も適したテストです。この技術で測定されたFEV1（1秒間に吐き出すことができる空気の量）が12%以上改善した場合、診断を支持する結果となります。しかし、軽度の喘息で発作が現在起きていない場合には正常値を示すこともあります。カフェインが喘息の患者において気管支拡張薬として働くため、肺機能検査前にカフェインを摂取すると結果に影響を与える可能性があります。","答え":"<p>喘息テストの結果に影響を与える物質は<strong>カフェイン</strong>です。</p>☕ <ul><li>カフェインは気管支拡張薬として作用し、肺機能検査の結果に影響を与えます。</li>⚠️ <li>テスト前のカフェイン摂取は避けるべきです。</li>💨 <li>カフェインが影響を与えるため、テスト結果が不正確になる可能性があります。</li></ul><p>カフェインが喘息テストの結果に影響を与えることがあります。</p>✅","グラフ情報":{"ノード":[{"id":"Asthma_Test_Interference","label":"Interference","name":"喘息テストの干渉"},{"id":"Caffeine","label":"Substance","name":"カフェイン"}],"関係":[{"source":"Asthma_Test_Interference","relation":"caused_by","target":"Caffeine"}]}}

{"質問":"喘息とCOPDの違いを示すテストは何ですか？","参考情報":"スパイロメトリーは診断および管理に役立つと推奨されています。これは喘息の診断に最も適したテストです。この技術で測定されたFEV1（1秒間に吐き出すことができる空気の量）が12%以上改善した場合、診断を支持する結果となります。しかし、軽度の喘息で発作が現在起きていない場合には正常値を示すこともあります。カフェインが喘息の患者において気管支拡張薬として働くため、肺機能検査前にカフェインを摂取すると結果に影響を与える可能性があります。","答え":"<p>喘息とCOPDの違いを示すテストは<strong>一回呼吸拡散能</strong>です。</p>💨 <ul><li>一回呼吸拡散能は喘息とCOPDを区別するのに役立ちます。</li>🌬️ <li>このテストは両者を識別するのに非常に有用です。</li>🔬 <li>喘息とCOPDの違いを明確にするために使われます。</li></ul><p>一回呼吸拡散能が喘息とCOPDを区別するために使用されます。</p>✅","グラフ情報":{"ノード":[{"id":"Asthma_COPD_Difference","label":"Difference","name":"喘息とCOPDの違い"},{"id":"Single_Breath_Diffusing_Capacity","label":"Test","name":"一回呼吸拡散能"}],"関係":[{"source":"Asthma_COPD_Difference","relation":"determined_by","target":"Single_Breath_Diffusing_Capacity"}]}}

{"質問":"証拠の大部分で使用される率は何ですか？","参考情報":"その他の支持証拠には、ピーク呼気流量の≥20%の変化が1週間に3日以上、少なくとも2週間続くこと、サルブタモール、吸入ステロイド、プレドニゾンで治療後のピークフローの≥20%改善、またはトリガーに曝露後のピークフローの≥20%減少が含まれます。ピーク呼気流量を測定するのはスパイロメトリーよりも変動が大きいため、通常の診断には推奨されません。ただし、中等度から重度の喘息の人々の毎日の自己モニタリングや新しい薬剤の効果確認には有用であり、急性増悪時の治療指針にも役立ちます。","答え":"<p>証拠の大部分で使用される率は<strong>≥20%</strong>です。</p>📊 <ul><li>ピーク呼気流量の≥20%の変化は重要な指標です。</li>⚠️ <li>この率は喘息の診断や管理において重要な役割を果たします。</li>💨 <li>喘息の効果的なモニタリングに使われます。</li></ul><p>≥20%の変化が証拠の中で広く使用されています。</p>✅","グラフ情報":{"ノード":[{"id":"Evidence_Rate","label":"Rate","name":"証拠で使用される率"},{"id":"Peak_Expiratory_Flow","label":"Flow","name":"ピーク呼気流量"}],"関係":[{"source":"Evidence_Rate","relation":"used_in","target":"Peak_Expiratory_Flow"}]}}

{"質問":"スパイロメトリーより変動が大きいが、通常は推奨されないのは何ですか？","参考情報":"その他の支持証拠には、ピーク呼気流量の≥20%の変化が1週間に3日以上、少なくとも2週間続くこと、サルブタモール、吸入ステロイド、プレドニゾンで治療後のピークフローの≥20%改善、またはトリガーに曝露後のピークフローの≥20%減少が含まれます。ピーク呼気流量を測定するのはスパイロメトリーよりも変動が大きいため、通常の診断には推奨されません。ただし、中等度から重度の喘息の人々の毎日の自己モニタリングや新しい薬剤の効果確認には有用であり、急性増悪時の治療指針にも役立ちます。","答え":"<p>スパイロメトリーより変動が大きく、通常は推奨されないのは<strong>ピーク呼気流量の測定</strong>です。</p>📉 <ul><li>ピーク呼気流量はスパイロメトリーより変動が大きいため、通常の診断には推奨されません。</li>⚖️ <li>しかし、自己モニタリングには有用です。</li>💊 <li>急性増悪時の治療指針にも役立ちます。</li></ul><p>ピーク呼気流量の測定は通常の診断には推奨されません。</p>✅","グラフ情報":{"ノード":[{"id":"Peak_Flow_Test","label":"Test","name":"ピーク呼気流量のテスト"},{"id":"Spirometry_Comparison","label":"Comparison","name":"スパイロメトリーとの比較"}],"関係":[{"source":"Peak_Flow_Test","relation":"more_variable_than","target":"Spirometry_Comparison"}]}

"""

answer = Answer()
answer.have_graph_data = True

is_valid, clipboard_data = answer.check_clipboard_data(check_data, check_rows=5)
print(clipboard_data)
print(f"Is Valid: {is_valid}")
